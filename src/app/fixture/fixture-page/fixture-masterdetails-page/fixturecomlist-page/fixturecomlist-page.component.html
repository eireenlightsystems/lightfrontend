<div class="fr">
  <div *ngIf="isAdd">
    <jqxTooltip [position]="'bottom'" [name]="'addTooltip'"
                [content]="'Добавить команду ВКЛ. светильника'">
      <Button [disabled]="isAddBtnDisabled"
        (click)="ins()"
        class="button_margin btn btn-small waves-effect waves-orange white blue-text"
      >
        <i class="material-icons" style="color: orange">highlight</i>
      </Button>
    </jqxTooltip>
  </div>

  <div *ngIf="isSwitchOff">
    <jqxTooltip [position]="'bottom'" [name]="'switchOffTooltip'"
                [content]="'Добавить команду ВЫКЛ. светильника'">
      <Button [disabled]="isRemoveBtnDisabled"
        (click)="switchOff()"
        class="button_margin btn btn-small waves-effect waves-orange white blue-text"
      >
        <i class="material-icons" >highlight</i>
      </Button>
    </jqxTooltip>
  </div>

  <div *ngIf="isUpdate">
    <jqxTooltip [position]="'bottom'" [name]="'updTooltip'"
                [content]="'Редактировать команду'">
      <Button [disabled]="isEditBtnDisabled"
              (click)="upd()"
              class="button_margin btn btn-small waves-effect waves-orange white blue-text"
      >
        <i class="material-icons">edit</i>
      </Button>
    </jqxTooltip>
  </div>

  <div *ngIf="isDelete">
    <jqxTooltip [position]="'bottom'" [name]="'delTooltip'"
                [content]="'Удалить команду'">
      <Button [disabled]="isDeleteBtnDisabled"
              (click)="del()"
              class="button_margin btn btn-small waves-effect waves-orange white blue-text"
      >
        <i class="material-icons">delete</i>
      </Button>
    </jqxTooltip>
  </div>

  <div *ngIf="isRefresh">
    <jqxTooltip [position]="'bottom'" [name]="'refreshTooltip'"
                [content]="'Обновить таблицу'">
      <button [disabled]="isRefreshBtnDisabled"
              (click)="refreshGrid()"
              class="button_margin btn btn-small waves-effect waves-orange white blue-text"
      >
        <i class="small material-icons">refresh</i>
      </button>
    </jqxTooltip>
  </div>

  <div *ngIf="isFilter_none">
    <jqxTooltip [position]="'bottom'" [name]="'fieldTooltip'"
                [content]="'Открыть фильтр по полям таблицы'">
      <button [disabled]="isFilter_noneBtnDisabled"
              (click)="fixturecomlistJqxgridComponent.islistBoxVisible = !fixturecomlistJqxgridComponent.islistBoxVisible"
              class="button_margin btn btn-small waves-effect waves-orange white blue-text"
      >
        <i class="material-icons">filter_none</i>
      </button>
    </jqxTooltip>
  </div>

  <div *ngIf="isFilter_list">
    <jqxTooltip [position]="'bottom'" [name]="'filterTooltip'"
                [content]="'Открыть фильтр'">
      <button [disabled]="isFilter_listBtnDisabled"
              (click)="isFilterVisible = !isFilterVisible"
              class="button_margin btn btn-small waves-effect waves-orange white blue-text"
              [ngClass]="{
      'active':isFilterVisible
    }"
      >
        <i class="material-icons">filter_list</i>
      </button>
    </jqxTooltip>
  </div>

</div>

<app-fixturecomlist-filter
  *ngIf="isFilterVisible"
  [filterCommandSwitch]="filterCommandSwitch"
  (onFilter)="applyFilter($event)"
  [commandStatuses]="commandStatuses"
  [id_fixture_select]="id_fixture_select"
></app-fixturecomlist-filter>

<div *ngIf="!reloading; else reloadingBlock">
  <!--*ngIf="nodes.length > 0; else empty"-->
  <div>
    <app-fixturecomlist-jqxgrid #fixturecomlistJqxgridComponent
                                [commandSwitches]="commandSwitches"

                                [heightGrid]="heightGrid"
                                [selectionmode]="selectionmode"
                                [isMasterGrid]="isMasterGrid"
                                [id_fixture_select]="id_fixture_select"

                                (onRefreshGrid)="refreshGrid()"
                                (onRefreshChildGrid)="refreshChildGrid($event)"
    ></app-fixturecomlist-jqxgrid>
    <div
      class="center mb2"
      *ngIf="!noMoreCommand_switches; else "
    >
      <ng-template #loader>
        <app-loader></app-loader>
      </ng-template>
    </div>
  </div>
  <ng-template #empty>
    <div class="center">Комманд пока нет</div>
  </ng-template>
</div>

<ng-template #reloadingBlock>
  <app-loader></app-loader>
</ng-template>

